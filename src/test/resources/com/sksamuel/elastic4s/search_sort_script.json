{
    "sort": [
        {
            "_script": {
                "script": "document.score",
                "type": "java",
                "reverse": true,
                "mode": "sum",
                "nested_path": "nested.path"
            }
        }
    ]
}